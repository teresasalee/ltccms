<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>é•·ç…§2.0 CMS æ¨¡æ“¬è©•ä¼°è¡¨å–®</title>
</head>
<body>
<!-- ä»¥ä¸‹ç‚ºè‡ª Canvas æ“·å–çš„å®Œæ•´ç¨‹å¼ç¢¼ -->
<!-- D é¡Œï¼šè¨˜æ†¶æ¸¬é©— -->
<h2>è¨˜æ†¶æ¸¬é©—ï¼ˆDé¡Œï¼‰</h2>
<div class="question">
  <label><strong>D1. è«‹å€‹æ¡ˆè¤‡èª¦ä¸‰å€‹è©èªï¼ˆè¥ªå­ã€è—è‰²ã€åºŠï¼‰ï¼š</strong></label>
  <label><input type="radio" name="memory" value="3"> è¨˜ä½3å€‹</label>
  <label><input type="radio" name="memory" value="2"> è¨˜ä½2å€‹</label>
  <label><input type="radio" name="memory" value="1"> è¨˜ä½1å€‹</label>
  <label><input type="radio" name="memory" value="0"> çš†ç„¡æ³•è¨˜ä½</label>
</div>
<!-- Hï½K é¡Œï¼ˆç°¡ç•¥ï¼‰ -->
<!-- ...å®Œæ•´ Canvas HTML åœ¨å¯¦éš›ç¨‹å¼ä¸­... -->
<!-- æ¨¡æ“¬è¼¸å‡ºçµæœèˆ‡ JS ç¨‹å¼ç¢¼ -->
<script>
  function submitForm() {
    let adlScore = 0;
    let unanswered = 0;
    for (let i = 1; i <= 10; i++) {
      const val = document.querySelector(`input[name='adl${i}']:checked`);
      if (val) adlScore += parseInt(val.value);
      else unanswered++;
    }
    if (unanswered > 0) {
      alert(`è«‹å¡«å®Œ ADL æ‰€æœ‰é¡Œç›®ï¼Œå°šæœ‰ ${unanswered} é¡Œæœªå¡«`);
      return;
    }
    const level = adlScore <= 13 ? "CMS ç¬¬8ç´šä»¥ä¸Š" : adlScore <= 20 ? "CMS ç¬¬6~7ç´š" : "ä¸ç¬¦åˆè£œåŠ©";
    document.getElementById("adl_result").innerHTML = `ğŸ”¢ <strong>ADL ç¸½åˆ†ï¼š${adlScore}</strong>ï¼Œåˆæ­¥ç ”åˆ¤ç‚º <strong>${level}</strong>`;
    const stress = document.querySelector("input[name='care_stress']:checked")?.value || "æœªå¡«";
    let risk = "";
    if (adlScore >= 24 && stress === "å¾ˆå¤§å£“åŠ›") {
      risk = "âš ï¸ <strong>é«˜ç…§é¡§å£“åŠ›å€‹æ¡ˆ</strong>ï¼Œå»ºè­°å®‰æ’ç¤¾å·¥ä»‹å…¥æˆ–å–˜æ¯æœå‹™ã€‚";
    } else if (adlScore <= 20 && stress === "æœ‰äº›å£“åŠ›") {
      risk = "ğŸŸ¡ <strong>ä¸­åº¦ç…§é¡§å£“åŠ›</strong>ï¼Œå¯è©•ä¼°å±…å®¶æœå‹™é…å¥—ã€‚";
    } else {
      risk = "âœ… <strong>ç›®å‰ç…§é¡§è² æ“”å¯æ§</strong>ï¼Œå»ºè­°æŒçºŒè¿½è¹¤ã€‚";
    }
    document.getElementById("risk_notice").innerHTML = risk;
    document.getElementById("recommendation").innerHTML =
      "ğŸ’¡ å»ºè­°ï¼šä¾æ“šè©•ä¼°çµæœï¼Œå€‹æ¡ˆå¯èƒ½å¯ç”³è«‹å±…å®¶æœå‹™ã€å–˜æ¯æœå‹™ã€è¼”å…·è£œåŠ©æˆ–æ—¥ç…§ä¸­å¿ƒç­‰ï¼Œè«‹èˆ‡ç…§é¡§ç®¡ç†å°ˆå“¡é€²ä¸€æ­¥è¨è«–ã€‚";
    document.getElementById("result").style.display = "block";
  }
</script>
</body>
</html>
